*mado-scratch-buffer.nvim*	The fastest way to open scratch buffers for Neovim

Author: aiya000
License: MIT license

==============================================================================
CONTENTS					*mado-scratch-buffer-contents*

INTRODUCTION			|mado-scratch-buffer-introduction|
SETUP				|mado-scratch-buffer-setup|
USAGE				|mado-scratch-buffer-usage|
INTERFACE			|mado-scratch-buffer-interface|
  CONFIGURATION			|mado-scratch-buffer-configuration|
  COMMANDS			|mado-scratch-buffer-commands|
  FUNCTIONS			|mado-scratch-buffer-functions|
CHANGELOG			|mado-scratch-buffer-changelog|


==============================================================================
INTRODUCTION						*mado-scratch-buffer-introduction*

** No more hassle with file paths! **
The fastest way to open an instant scratch buffer for Neovim.

This is a modern Lua-based implementation for Neovim, rewritten from the
original Vim script version.

Supercharge with vim-quickrun!
Combine it with vim-quickrun (https://github.com/thinca/vim-quickrun) to
execute code instantly!
>
	" Open a TypeScript buffer
	:MadoScratchBufferOpen ts

	" Write TypeScript code
	" ...

	" ...and run it immediately!
	:QuickRun
<
Please see the |mado-scratch-buffer-usage| section for usage details.

Repository:
https://github.com/aiya000/mado-scratch-buffer.nvim


==============================================================================
SETUP						*mado-scratch-buffer-setup*

Install the plugin using your favorite plugin manager:

Using lazy.nvim: >
	{
	  'aiya000/mado-scratch-buffer.nvim',
	  config = function()
	    require('scratch-buffer').setup({
	      -- Optional configuration (see |mado-scratch-buffer-configuration|)
	    })
	  end,
	}
<

Using packer.nvim: >
	use {
	  'aiya000/mado-scratch-buffer.nvim',
	  config = function()
	    require('scratch-buffer').setup()
	  end
	}
<

The plugin will work with default settings without any configuration.


==============================================================================
USAGE						*mado-scratch-buffer-usage*

Open a scratch buffer with or without a file extension:
>
	" Open a new scratch buffer without file extension and filetype
	:MadoScratchBufferOpen

	" Open a new scratch buffer with markdown filetype
	:MadoScratchBufferOpen md

	" Open a new scratch buffer with TypeScript filetype
	:MadoScratchBufferOpen ts

	" Open a persistent file buffer (auto-saved)
	:MadoScratchBufferOpenFile js

	" Open next scratch buffer (force new buffer creation)
	:MadoScratchBufferOpenNext py

	" Open with custom split method and size
	:MadoScratchBufferOpen md sp 10
	:MadoScratchBufferOpen ts vsp 80

	" Clean up all scratch buffers and files
	:MadoScratchBufferClean
<

You can specify:
1. File extension (optional): md, ts, js, py, etc. or `--no-file-ext`
2. Open method (optional): sp (horizontal split) or vsp (vertical split)
3. Buffer size (optional): number for height (sp) or width (vsp)


==============================================================================
INTERFACE					*mado-scratch-buffer-interface*

------------------------------------------------------------------------------
CONFIGURATION				*mado-scratch-buffer-configuration*

Configure the plugin by calling the setup function:
>
	require('scratch-buffer').setup({
	  -- File patterns for temporary and persistent buffers
	  file_pattern = {
	    when_tmp_buffer = '/tmp/mado-scratch-tmp-%d',
	    when_file_buffer = '/tmp/mado-scratch-file-%d',
	  },

	  -- Default settings
	  default_file_ext = 'md',           -- Default file extension
	  default_open_method = 'sp',        -- 'sp' or 'vsp'
	  default_buffer_size = 15,          -- Default buffer height/width

	  -- Behavior options
	  auto_save_file_buffer = true,      -- Auto-save file buffers on TextChanged
	  use_default_keymappings = false,   -- Enable default keymaps

	  -- Auto-hide settings (like scratch.vim)
	  auto_hide_buffer = {
	    when_tmp_buffer = false,         -- Auto-hide temporary buffers
	    when_file_buffer = false,        -- Auto-hide persistent buffers
	  },
	})
<

						*g:mado_scratch_buffer_file_pattern*
file_pattern ~
Default: >
	{
	  when_tmp_buffer = '/tmp/mado-scratch-tmp-%d',
	  when_file_buffer = '/tmp/mado-scratch-file-%d',
	}
<
File path patterns for temporary and persistent buffers. The `%d` will be
replaced with an incremental number.

						*g:mado_scratch_buffer_default_file_ext*
default_file_ext ~
Default: `'md'`
Default file extension when no extension is specified.

						*g:mado_scratch_buffer_default_open_method*
default_open_method ~
Default: `'sp'`
Default method to open buffers. Either `'sp'` (horizontal split) or `'vsp'`
(vertical split).

						*g:mado_scratch_buffer_default_buffer_size*
default_buffer_size ~
Default: `15`
Default buffer size (height for sp, width for vsp).

						*g:mado_scratch_buffer_auto_save_file_buffer*
auto_save_file_buffer ~
Default: `true`
Automatically save file buffers when text changes.

						*g:mado_scratch_buffer_use_default_keymappings*
use_default_keymappings ~
Default: `false`
Enable default keymappings. When enabled:
- `<leader>b` → `:MadoScratchBufferOpen`
- `<leader>B` → `:MadoScratchBufferOpenFile`
- `<leader><leader>b` → `:MadoScratchBufferOpen ` (interactive)
- `<leader><leader>B` → `:MadoScratchBufferOpenFile ` (interactive)

						*g:mado_scratch_buffer_auto_hide_buffer*
auto_hide_buffer ~
Default: >
	{
	  when_tmp_buffer = false,
	  when_file_buffer = false,
	}
<
Auto-hide buffers when leaving the window (scratch.vim compatibility).

------------------------------------------------------------------------------
COMMANDS					*mado-scratch-buffer-commands*

						*:MadoScratchBufferOpen*
:MadoScratchBufferOpen [file_ext] [open_method] [buffer_size]
	Open a temporary scratch buffer.

	Parameters:
	- file_ext: File extension (e.g., 'md', 'ts') or '--no-file-ext'
	- open_method: 'sp' or 'vsp'
	- buffer_size: Number for height/width

	Examples: >
		:MadoScratchBufferOpen
		:MadoScratchBufferOpen md
		:MadoScratchBufferOpen ts sp 10
		:MadoScratchBufferOpen js vsp 80
<

						*:MadoScratchBufferOpenFile*
:MadoScratchBufferOpenFile [file_ext] [open_method] [buffer_size]
	Open a persistent file buffer (auto-saved).
	Same parameters as |:MadoScratchBufferOpen|.

						*:MadoScratchBufferOpenNext*
:MadoScratchBufferOpenNext [file_ext] [open_method] [buffer_size]
	Force open a new temporary scratch buffer.
	Same parameters as |:MadoScratchBufferOpen|.

						*:MadoScratchBufferOpenFileNext*
:MadoScratchBufferOpenFileNext [file_ext] [open_method] [buffer_size]
	Force open a new persistent file buffer.
	Same parameters as |:MadoScratchBufferOpen|.

						*:MadoScratchBufferClean*
:MadoScratchBufferClean
	Clean up all scratch buffers and files.

------------------------------------------------------------------------------
FUNCTIONS					*mado-scratch-buffer-functions*

These functions are available through the Lua API:

require('scratch-buffer').setup({config})		*scratch-buffer.setup()*
	Setup the plugin with the given configuration.

require('scratch-buffer').get_config()			*scratch-buffer.get_config()*
	Get the current configuration.

require('scratch-buffer.buffer').open(opening_next, ...)
	Open a temporary scratch buffer.

require('scratch-buffer.buffer').open_file(opening_next, ...)
	Open a persistent file buffer.

require('scratch-buffer.buffer').clean()
	Clean up all scratch buffers and files.


==============================================================================
CHANGELOG					*mado-scratch-buffer-changelog*

2024
- Complete rewrite in Lua for Neovim
	- The new repository:
	https://github.com/aiya000/nvim-mado-scratch-buffer
- Renamed from vim-scratch-buffer to mado-scratch-buffer.nvim
- Modern Neovim plugin structure with setup() function
- Removed backward compatibility with old Vim script version
- Updated command names to Mado* prefix
- Improved configuration system
- Added comprehensive Lua API documentation

2024
- Create original repository: https://github.com/aiya000/vim-scratch-buffer

vim:tw=78:ts=8:ft=help:norl:
